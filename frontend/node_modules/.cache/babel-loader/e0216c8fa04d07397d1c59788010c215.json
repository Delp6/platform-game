{"ast":null,"code":"import Clear from '../../../utils/object/Clear.js';\nimport IsEmpty from '../../../utils/object/IsEmpty.js';\n\nclass BoardData {\n  constructor() {\n    this.XYZToUID = {}; // [x][y][z] : uid\n\n    this.UIDToXYZ = {}; // uid : xyz\n\n    this.clear();\n  }\n\n  shutdown() {\n    this.XYZToUID = undefined;\n    this.UIDToXYZ = undefined;\n    return this;\n  }\n\n  destroy() {\n    this.shutdown();\n    return this;\n  }\n\n  clear() {\n    Clear(this.UIDToXYZ);\n    Clear(this.XYZToUID);\n    this.chessCount = 0;\n    this.clearBounds();\n    return this;\n  }\n\n  clearBounds() {\n    this._xMax = undefined;\n    this._xMin = undefined;\n    this._yMax = undefined;\n    this._yMin = undefined;\n    return this;\n  }\n\n  addUID(uid, x, y, z) {\n    if (!this.XYZToUID.hasOwnProperty(x)) {\n      this.XYZToUID[x] = {};\n    }\n\n    var tmpx = this.XYZToUID[x];\n\n    if (!tmpx.hasOwnProperty(y)) {\n      tmpx[y] = {};\n    }\n\n    var tmpy = tmpx[y];\n    tmpy[z] = uid;\n    this.UIDToXYZ[uid] = {\n      x: x,\n      y: y,\n      z: z\n    };\n    this.chessCount++;\n    this.clearBounds();\n    return this;\n  }\n\n  getUID(x, y, z) {\n    // (x,y,z) -> uid\n    // (x,y) -> zHash = {z:uid}\n    var tmp = this.XYZToUID[x];\n\n    if (tmp) {\n      tmp = tmp[y];\n\n      if (tmp) {\n        if (z !== undefined) {\n          tmp = tmp[z];\n        }\n      }\n    }\n\n    return tmp;\n  }\n\n  removeUID(x, y, z) {\n    if (!this.XYZToUID.hasOwnProperty(x)) {\n      return this;\n    }\n\n    var tmpx = this.XYZToUID[x];\n\n    if (!tmpx.hasOwnProperty(y)) {\n      return this;\n    }\n\n    var tmpy = tmpx[y];\n\n    if (!tmpy.hasOwnProperty(z)) {\n      return this;\n    }\n\n    var uid = tmpy[z];\n    delete tmpy[z];\n    delete this.UIDToXYZ[uid];\n\n    if (IsEmpty(tmpy)) {\n      delete tmpx[y];\n    }\n\n    if (IsEmpty(tmpx)) {\n      delete this.XYZToUID[x];\n    }\n\n    this.chessCount--;\n    this.clearBounds();\n    return this;\n  }\n\n  exists(uid) {\n    return this.UIDToXYZ.hasOwnProperty(uid);\n  }\n\n  contains(x, y, z) {\n    return this.getUID(x, y, z) != null;\n  }\n\n  getXYZ(uid) {\n    if (this.exists(uid)) {\n      return this.UIDToXYZ[uid];\n    }\n\n    return null;\n  }\n\n  get xMax() {\n    if (this._xMax === undefined) {\n      this._xMax = -Infinity;\n      var UIDToXYZ = this.UIDToXYZ,\n          x;\n\n      for (var uid in UIDToXYZ) {\n        x = UIDToXYZ[uid].x;\n\n        if (this._xMax < x) {\n          this._xMax = x;\n        }\n      }\n    }\n\n    return this._xMax;\n  }\n\n  get xMin() {\n    if (this._xMin === undefined) {\n      this._xMin = Infinity;\n      var UIDToXYZ = this.UIDToXYZ,\n          x;\n\n      for (var uid in UIDToXYZ) {\n        x = UIDToXYZ[uid].x;\n\n        if (this._xMin > x) {\n          this._xMin = x;\n        }\n      }\n    }\n\n    return this._xMin;\n  }\n\n  get yMax() {\n    if (this._yMax === undefined) {\n      this._yMax = -Infinity;\n      var UIDToXYZ = this.UIDToXYZ,\n          y;\n\n      for (var uid in UIDToXYZ) {\n        y = UIDToXYZ[uid].y;\n\n        if (this._yMax < y) {\n          this._yMax = y;\n        }\n      }\n    }\n\n    return this._yMax;\n  }\n\n  get yMin() {\n    if (this._yMin === undefined) {\n      this._yMin = Infinity;\n      var UIDToXYZ = this.UIDToXYZ,\n          y;\n\n      for (var uid in UIDToXYZ) {\n        y = UIDToXYZ[uid].y;\n\n        if (this._yMin > y) {\n          this._yMin = y;\n        }\n      }\n    }\n\n    return this._yMin;\n  }\n\n}\n\nexport default BoardData;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/board/board/boarddata/BoardData.js"],"names":["Clear","IsEmpty","BoardData","constructor","XYZToUID","UIDToXYZ","clear","shutdown","undefined","destroy","chessCount","clearBounds","_xMax","_xMin","_yMax","_yMin","addUID","uid","x","y","z","hasOwnProperty","tmpx","tmpy","getUID","tmp","removeUID","exists","contains","getXYZ","xMax","Infinity","xMin","yMax","yMin"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gCAAlB;AACA,OAAOC,OAAP,MAAoB,kCAApB;;AAEA,MAAMC,SAAN,CAAgB;AACZC,EAAAA,WAAW,GAAG;AACV,SAAKC,QAAL,GAAgB,EAAhB,CADU,CACU;;AACpB,SAAKC,QAAL,GAAgB,EAAhB,CAFU,CAEU;;AACpB,SAAKC,KAAL;AACH;;AAEDC,EAAAA,QAAQ,GAAG;AACP,SAAKH,QAAL,GAAgBI,SAAhB;AACA,SAAKH,QAAL,GAAgBG,SAAhB;AACA,WAAO,IAAP;AACH;;AAEDC,EAAAA,OAAO,GAAG;AACN,SAAKF,QAAL;AACA,WAAO,IAAP;AACH;;AAEDD,EAAAA,KAAK,GAAG;AACJN,IAAAA,KAAK,CAAC,KAAKK,QAAN,CAAL;AACAL,IAAAA,KAAK,CAAC,KAAKI,QAAN,CAAL;AACA,SAAKM,UAAL,GAAkB,CAAlB;AACA,SAAKC,WAAL;AACA,WAAO,IAAP;AACH;;AAEDA,EAAAA,WAAW,GAAG;AACV,SAAKC,KAAL,GAAaJ,SAAb;AACA,SAAKK,KAAL,GAAaL,SAAb;AACA,SAAKM,KAAL,GAAaN,SAAb;AACA,SAAKO,KAAL,GAAaP,SAAb;AACA,WAAO,IAAP;AACH;;AAEDQ,EAAAA,MAAM,CAACC,GAAD,EAAMC,CAAN,EAASC,CAAT,EAAYC,CAAZ,EAAe;AACjB,QAAI,CAAC,KAAKhB,QAAL,CAAciB,cAAd,CAA6BH,CAA7B,CAAL,EAAsC;AAClC,WAAKd,QAAL,CAAcc,CAAd,IAAmB,EAAnB;AACH;;AACD,QAAII,IAAI,GAAG,KAAKlB,QAAL,CAAcc,CAAd,CAAX;;AACA,QAAI,CAACI,IAAI,CAACD,cAAL,CAAoBF,CAApB,CAAL,EAA6B;AACzBG,MAAAA,IAAI,CAACH,CAAD,CAAJ,GAAU,EAAV;AACH;;AACD,QAAII,IAAI,GAAGD,IAAI,CAACH,CAAD,CAAf;AACAI,IAAAA,IAAI,CAACH,CAAD,CAAJ,GAAUH,GAAV;AACA,SAAKZ,QAAL,CAAcY,GAAd,IAAqB;AACjBC,MAAAA,CAAC,EAAEA,CADc;AAEjBC,MAAAA,CAAC,EAAEA,CAFc;AAGjBC,MAAAA,CAAC,EAAEA;AAHc,KAArB;AAMA,SAAKV,UAAL;AACA,SAAKC,WAAL;AACA,WAAO,IAAP;AACH;;AAEDa,EAAAA,MAAM,CAACN,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAU;AACZ;AACA;AACA,QAAIK,GAAG,GAAG,KAAKrB,QAAL,CAAcc,CAAd,CAAV;;AACA,QAAIO,GAAJ,EAAS;AACLA,MAAAA,GAAG,GAAGA,GAAG,CAACN,CAAD,CAAT;;AACA,UAAIM,GAAJ,EAAS;AACL,YAAIL,CAAC,KAAKZ,SAAV,EAAqB;AACjBiB,UAAAA,GAAG,GAAGA,GAAG,CAACL,CAAD,CAAT;AACH;AACJ;AACJ;;AACD,WAAOK,GAAP;AACH;;AAEDC,EAAAA,SAAS,CAACR,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAU;AACf,QAAI,CAAC,KAAKhB,QAAL,CAAciB,cAAd,CAA6BH,CAA7B,CAAL,EAAsC;AAClC,aAAO,IAAP;AACH;;AACD,QAAII,IAAI,GAAG,KAAKlB,QAAL,CAAcc,CAAd,CAAX;;AACA,QAAI,CAACI,IAAI,CAACD,cAAL,CAAoBF,CAApB,CAAL,EAA6B;AACzB,aAAO,IAAP;AACH;;AACD,QAAII,IAAI,GAAGD,IAAI,CAACH,CAAD,CAAf;;AACA,QAAI,CAACI,IAAI,CAACF,cAAL,CAAoBD,CAApB,CAAL,EAA6B;AACzB,aAAO,IAAP;AACH;;AAED,QAAIH,GAAG,GAAGM,IAAI,CAACH,CAAD,CAAd;AACA,WAAOG,IAAI,CAACH,CAAD,CAAX;AACA,WAAO,KAAKf,QAAL,CAAcY,GAAd,CAAP;;AACA,QAAIhB,OAAO,CAACsB,IAAD,CAAX,EAAmB;AACf,aAAOD,IAAI,CAACH,CAAD,CAAX;AACH;;AACD,QAAIlB,OAAO,CAACqB,IAAD,CAAX,EAAmB;AACf,aAAO,KAAKlB,QAAL,CAAcc,CAAd,CAAP;AACH;;AAED,SAAKR,UAAL;AACA,SAAKC,WAAL;AACA,WAAO,IAAP;AACH;;AAEDgB,EAAAA,MAAM,CAACV,GAAD,EAAM;AACR,WAAO,KAAKZ,QAAL,CAAcgB,cAAd,CAA6BJ,GAA7B,CAAP;AACH;;AAEDW,EAAAA,QAAQ,CAACV,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAU;AACd,WAAQ,KAAKI,MAAL,CAAYN,CAAZ,EAAeC,CAAf,EAAkBC,CAAlB,KAAwB,IAAhC;AACH;;AAEDS,EAAAA,MAAM,CAACZ,GAAD,EAAM;AACR,QAAI,KAAKU,MAAL,CAAYV,GAAZ,CAAJ,EAAsB;AAClB,aAAO,KAAKZ,QAAL,CAAcY,GAAd,CAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAED,MAAIa,IAAJ,GAAW;AACP,QAAI,KAAKlB,KAAL,KAAeJ,SAAnB,EAA8B;AAC1B,WAAKI,KAAL,GAAa,CAACmB,QAAd;AACA,UAAI1B,QAAQ,GAAG,KAAKA,QAApB;AAAA,UACIa,CADJ;;AAEA,WAAK,IAAID,GAAT,IAAgBZ,QAAhB,EAA0B;AACtBa,QAAAA,CAAC,GAAGb,QAAQ,CAACY,GAAD,CAAR,CAAcC,CAAlB;;AACA,YAAI,KAAKN,KAAL,GAAaM,CAAjB,EAAoB;AAChB,eAAKN,KAAL,GAAaM,CAAb;AACH;AACJ;AACJ;;AAED,WAAO,KAAKN,KAAZ;AACH;;AAED,MAAIoB,IAAJ,GAAW;AACP,QAAI,KAAKnB,KAAL,KAAeL,SAAnB,EAA8B;AAC1B,WAAKK,KAAL,GAAakB,QAAb;AACA,UAAI1B,QAAQ,GAAG,KAAKA,QAApB;AAAA,UACIa,CADJ;;AAEA,WAAK,IAAID,GAAT,IAAgBZ,QAAhB,EAA0B;AACtBa,QAAAA,CAAC,GAAGb,QAAQ,CAACY,GAAD,CAAR,CAAcC,CAAlB;;AACA,YAAI,KAAKL,KAAL,GAAaK,CAAjB,EAAoB;AAChB,eAAKL,KAAL,GAAaK,CAAb;AACH;AACJ;AACJ;;AAED,WAAO,KAAKL,KAAZ;AACH;;AAED,MAAIoB,IAAJ,GAAW;AACP,QAAI,KAAKnB,KAAL,KAAeN,SAAnB,EAA8B;AAC1B,WAAKM,KAAL,GAAa,CAACiB,QAAd;AACA,UAAI1B,QAAQ,GAAG,KAAKA,QAApB;AAAA,UACIc,CADJ;;AAEA,WAAK,IAAIF,GAAT,IAAgBZ,QAAhB,EAA0B;AACtBc,QAAAA,CAAC,GAAGd,QAAQ,CAACY,GAAD,CAAR,CAAcE,CAAlB;;AACA,YAAI,KAAKL,KAAL,GAAaK,CAAjB,EAAoB;AAChB,eAAKL,KAAL,GAAaK,CAAb;AACH;AACJ;AACJ;;AAED,WAAO,KAAKL,KAAZ;AACH;;AAED,MAAIoB,IAAJ,GAAW;AACP,QAAI,KAAKnB,KAAL,KAAeP,SAAnB,EAA8B;AAC1B,WAAKO,KAAL,GAAagB,QAAb;AACA,UAAI1B,QAAQ,GAAG,KAAKA,QAApB;AAAA,UACIc,CADJ;;AAEA,WAAK,IAAIF,GAAT,IAAgBZ,QAAhB,EAA0B;AACtBc,QAAAA,CAAC,GAAGd,QAAQ,CAACY,GAAD,CAAR,CAAcE,CAAlB;;AACA,YAAI,KAAKJ,KAAL,GAAaI,CAAjB,EAAoB;AAChB,eAAKJ,KAAL,GAAaI,CAAb;AACH;AACJ;AACJ;;AAED,WAAO,KAAKJ,KAAZ;AACH;;AA/KW;;AAkLhB,eAAeb,SAAf","sourcesContent":["import Clear from '../../../utils/object/Clear.js';\r\nimport IsEmpty from '../../../utils/object/IsEmpty.js';\r\n\r\nclass BoardData {\r\n    constructor() {\r\n        this.XYZToUID = {}; // [x][y][z] : uid\r\n        this.UIDToXYZ = {}; // uid : xyz\r\n        this.clear();\r\n    }\r\n\r\n    shutdown() {\r\n        this.XYZToUID = undefined;\r\n        this.UIDToXYZ = undefined;\r\n        return this;\r\n    }\r\n\r\n    destroy() {\r\n        this.shutdown();\r\n        return this;\r\n    }\r\n\r\n    clear() {\r\n        Clear(this.UIDToXYZ);\r\n        Clear(this.XYZToUID);\r\n        this.chessCount = 0;\r\n        this.clearBounds();\r\n        return this;\r\n    }\r\n\r\n    clearBounds() {\r\n        this._xMax = undefined;\r\n        this._xMin = undefined;\r\n        this._yMax = undefined;\r\n        this._yMin = undefined;\r\n        return this;\r\n    }\r\n\r\n    addUID(uid, x, y, z) {\r\n        if (!this.XYZToUID.hasOwnProperty(x)) {\r\n            this.XYZToUID[x] = {};\r\n        }\r\n        var tmpx = this.XYZToUID[x];\r\n        if (!tmpx.hasOwnProperty(y)) {\r\n            tmpx[y] = {};\r\n        }\r\n        var tmpy = tmpx[y];\r\n        tmpy[z] = uid;\r\n        this.UIDToXYZ[uid] = {\r\n            x: x,\r\n            y: y,\r\n            z: z\r\n        };\r\n\r\n        this.chessCount++;\r\n        this.clearBounds();\r\n        return this;\r\n    }\r\n\r\n    getUID(x, y, z) {\r\n        // (x,y,z) -> uid\r\n        // (x,y) -> zHash = {z:uid}\r\n        var tmp = this.XYZToUID[x];\r\n        if (tmp) {\r\n            tmp = tmp[y];\r\n            if (tmp) {\r\n                if (z !== undefined) {\r\n                    tmp = tmp[z];\r\n                }\r\n            }\r\n        }\r\n        return tmp;\r\n    }\r\n\r\n    removeUID(x, y, z) {\r\n        if (!this.XYZToUID.hasOwnProperty(x)) {\r\n            return this;\r\n        }\r\n        var tmpx = this.XYZToUID[x];\r\n        if (!tmpx.hasOwnProperty(y)) {\r\n            return this;\r\n        }\r\n        var tmpy = tmpx[y];\r\n        if (!tmpy.hasOwnProperty(z)) {\r\n            return this;\r\n        }\r\n\r\n        var uid = tmpy[z];\r\n        delete tmpy[z];\r\n        delete this.UIDToXYZ[uid];\r\n        if (IsEmpty(tmpy)) {\r\n            delete tmpx[y];\r\n        }\r\n        if (IsEmpty(tmpx)) {\r\n            delete this.XYZToUID[x];\r\n        }\r\n\r\n        this.chessCount--;\r\n        this.clearBounds();\r\n        return this;\r\n    }\r\n\r\n    exists(uid) {\r\n        return this.UIDToXYZ.hasOwnProperty(uid);\r\n    }\r\n\r\n    contains(x, y, z) {\r\n        return (this.getUID(x, y, z) != null);\r\n    }\r\n\r\n    getXYZ(uid) {\r\n        if (this.exists(uid)) {\r\n            return this.UIDToXYZ[uid];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    get xMax() {\r\n        if (this._xMax === undefined) {\r\n            this._xMax = -Infinity;\r\n            var UIDToXYZ = this.UIDToXYZ,\r\n                x;\r\n            for (var uid in UIDToXYZ) {\r\n                x = UIDToXYZ[uid].x;\r\n                if (this._xMax < x) {\r\n                    this._xMax = x;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this._xMax;\r\n    }\r\n\r\n    get xMin() {\r\n        if (this._xMin === undefined) {\r\n            this._xMin = Infinity;\r\n            var UIDToXYZ = this.UIDToXYZ,\r\n                x;\r\n            for (var uid in UIDToXYZ) {\r\n                x = UIDToXYZ[uid].x;\r\n                if (this._xMin > x) {\r\n                    this._xMin = x;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this._xMin;\r\n    }\r\n\r\n    get yMax() {\r\n        if (this._yMax === undefined) {\r\n            this._yMax = -Infinity;\r\n            var UIDToXYZ = this.UIDToXYZ,\r\n                y;\r\n            for (var uid in UIDToXYZ) {\r\n                y = UIDToXYZ[uid].y;\r\n                if (this._yMax < y) {\r\n                    this._yMax = y;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this._yMax;\r\n    }\r\n\r\n    get yMin() {\r\n        if (this._yMin === undefined) {\r\n            this._yMin = Infinity;\r\n            var UIDToXYZ = this.UIDToXYZ,\r\n                y;\r\n            for (var uid in UIDToXYZ) {\r\n                y = UIDToXYZ[uid].y;\r\n                if (this._yMin > y) {\r\n                    this._yMin = y;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this._yMin;\r\n    }\r\n}\r\n\r\nexport default BoardData;"]},"metadata":{},"sourceType":"module"}