{"ast":null,"code":"import Tap from '../../../input/gestures/tap/Tap.js';\nimport EmitChessEvent from './EmitChessEvent.js';\n\nvar InstallTap = function () {\n  var tap = new Tap(this.board.scene);\n  tap.on('tap', OnTap, this);\n  return tap;\n};\n\nvar OnTap = function (tap) {\n  var board = this.board; // Get touched tileX, tileY\n\n  var tileXY = board.worldXYToTileXY(tap.worldX, tap.worldY);\n  var tileX = tileXY.x,\n      tileY = tileXY.y;\n\n  if (!board.contains(tileX, tileY)) {\n    return;\n  }\n\n  board.emit('tiletap', tap, tileXY);\n  board.emit(`tile${tap.tapsCount}tap`, tap, tileXY);\n\n  var boardEventCallback = function (gameObject) {\n    board.emit('gameobjecttap', tap, gameObject);\n    board.emit(`gameobject${tap.tapsCount}tap`, tap, gameObject);\n  };\n\n  var chessEventCallback = function (gameObject) {\n    gameObject.emit('board.tap', tap);\n    gameObject.emit(`board.${tap.tapsCount}tap`, tap);\n  };\n\n  EmitChessEvent(boardEventCallback, chessEventCallback, board, tileX, tileY, tap);\n};\n\nexport default InstallTap;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/board/board/input/InstallTap.js"],"names":["Tap","EmitChessEvent","InstallTap","tap","board","scene","on","OnTap","tileXY","worldXYToTileXY","worldX","worldY","tileX","x","tileY","y","contains","emit","tapsCount","boardEventCallback","gameObject","chessEventCallback"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oCAAhB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;;AAEA,IAAIC,UAAU,GAAG,YAAY;AACzB,MAAIC,GAAG,GAAG,IAAIH,GAAJ,CAAQ,KAAKI,KAAL,CAAWC,KAAnB,CAAV;AACAF,EAAAA,GAAG,CAACG,EAAJ,CAAO,KAAP,EAAcC,KAAd,EAAqB,IAArB;AACA,SAAOJ,GAAP;AACH,CAJD;;AAMA,IAAII,KAAK,GAAG,UAAUJ,GAAV,EAAe;AACvB,MAAIC,KAAK,GAAG,KAAKA,KAAjB,CADuB,CAEvB;;AACA,MAAII,MAAM,GAAGJ,KAAK,CAACK,eAAN,CAAsBN,GAAG,CAACO,MAA1B,EAAkCP,GAAG,CAACQ,MAAtC,CAAb;AACA,MAAIC,KAAK,GAAGJ,MAAM,CAACK,CAAnB;AAAA,MACIC,KAAK,GAAGN,MAAM,CAACO,CADnB;;AAEA,MAAI,CAACX,KAAK,CAACY,QAAN,CAAeJ,KAAf,EAAsBE,KAAtB,CAAL,EAAmC;AAC/B;AACH;;AAEDV,EAAAA,KAAK,CAACa,IAAN,CAAW,SAAX,EAAsBd,GAAtB,EAA2BK,MAA3B;AACAJ,EAAAA,KAAK,CAACa,IAAN,CAAY,OAAMd,GAAG,CAACe,SAAU,KAAhC,EAAsCf,GAAtC,EAA2CK,MAA3C;;AAEA,MAAIW,kBAAkB,GAAG,UAAUC,UAAV,EAAsB;AAC3ChB,IAAAA,KAAK,CAACa,IAAN,CAAW,eAAX,EAA4Bd,GAA5B,EAAiCiB,UAAjC;AACAhB,IAAAA,KAAK,CAACa,IAAN,CAAY,aAAYd,GAAG,CAACe,SAAU,KAAtC,EAA4Cf,GAA5C,EAAiDiB,UAAjD;AACH,GAHD;;AAIA,MAAIC,kBAAkB,GAAG,UAAUD,UAAV,EAAsB;AAC3CA,IAAAA,UAAU,CAACH,IAAX,CAAgB,WAAhB,EAA6Bd,GAA7B;AACAiB,IAAAA,UAAU,CAACH,IAAX,CAAiB,SAAQd,GAAG,CAACe,SAAU,KAAvC,EAA6Cf,GAA7C;AACH,GAHD;;AAIAF,EAAAA,cAAc,CACVkB,kBADU,EAEVE,kBAFU,EAGVjB,KAHU,EAGHQ,KAHG,EAGIE,KAHJ,EAIVX,GAJU,CAAd;AAMH,CA3BD;;AA6BA,eAAeD,UAAf","sourcesContent":["import Tap from '../../../input/gestures/tap/Tap.js';\r\nimport EmitChessEvent from './EmitChessEvent.js';\r\n\r\nvar InstallTap = function () {\r\n    var tap = new Tap(this.board.scene);\r\n    tap.on('tap', OnTap, this);\r\n    return tap;\r\n}\r\n\r\nvar OnTap = function (tap) {\r\n    var board = this.board;\r\n    // Get touched tileX, tileY\r\n    var tileXY = board.worldXYToTileXY(tap.worldX, tap.worldY);\r\n    var tileX = tileXY.x,\r\n        tileY = tileXY.y;\r\n    if (!board.contains(tileX, tileY)) {\r\n        return;\r\n    }\r\n\r\n    board.emit('tiletap', tap, tileXY);\r\n    board.emit(`tile${tap.tapsCount}tap`, tap, tileXY);\r\n\r\n    var boardEventCallback = function (gameObject) {\r\n        board.emit('gameobjecttap', tap, gameObject);\r\n        board.emit(`gameobject${tap.tapsCount}tap`, tap, gameObject);\r\n    }\r\n    var chessEventCallback = function (gameObject) {\r\n        gameObject.emit('board.tap', tap);\r\n        gameObject.emit(`board.${tap.tapsCount}tap`, tap);\r\n    }\r\n    EmitChessEvent(\r\n        boardEventCallback,\r\n        chessEventCallback,\r\n        board, tileX, tileY, \r\n        tap\r\n    );\r\n}\r\n\r\nexport default InstallTap;"]},"metadata":{},"sourceType":"module"}