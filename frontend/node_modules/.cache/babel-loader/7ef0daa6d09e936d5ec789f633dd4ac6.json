{"ast":null,"code":"import EmitChessEvent from './EmitChessEvent.js';\n\nvar OnPointerUp = function (pointer) {\n  if (!this.enable) {\n    return;\n  }\n\n  var board = this.board; // Get touched tileX, tileY\n\n  var out = board.worldXYToTileXY(pointer.worldX, pointer.worldY, true);\n  var tileX = out.x,\n      tileY = out.y;\n  this.prevTilePosition.x = this.tilePosition.x;\n  this.prevTilePosition.y = this.tilePosition.y;\n  this.tilePosition.x = tileX;\n  this.tilePosition.y = tileY;\n\n  if (!board.contains(tileX, tileY)) {\n    return;\n  }\n\n  board.emit('tileup', pointer, this.tilePosition);\n  board.emit('tileout', pointer, this.prevTilePosition);\n\n  var boardEventCallback = function (gameObject) {\n    board.emit('gameobjectup', pointer, gameObject);\n    board.emit('gameobjectout', pointer, gameObject);\n  };\n\n  var chessEventCallback = function (gameObject) {\n    gameObject.emit('board.pointerup', pointer);\n    gameObject.emit('board.pointerout', pointer);\n  };\n\n  EmitChessEvent(boardEventCallback, chessEventCallback, board, tileX, tileY, pointer);\n\n  if (this.pointer === pointer) {\n    // Release touch pointer\n    this.pointer = null;\n  }\n};\n\nexport default OnPointerUp;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/board/board/input/OnPointerUp.js"],"names":["EmitChessEvent","OnPointerUp","pointer","enable","board","out","worldXYToTileXY","worldX","worldY","tileX","x","tileY","y","prevTilePosition","tilePosition","contains","emit","boardEventCallback","gameObject","chessEventCallback"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,qBAA3B;;AAEA,IAAIC,WAAW,GAAG,UAAUC,OAAV,EAAmB;AACjC,MAAI,CAAC,KAAKC,MAAV,EAAkB;AACd;AACH;;AAED,MAAIC,KAAK,GAAG,KAAKA,KAAjB,CALiC,CAMjC;;AACA,MAAIC,GAAG,GAAGD,KAAK,CAACE,eAAN,CAAsBJ,OAAO,CAACK,MAA9B,EAAsCL,OAAO,CAACM,MAA9C,EAAsD,IAAtD,CAAV;AACA,MAAIC,KAAK,GAAGJ,GAAG,CAACK,CAAhB;AAAA,MACIC,KAAK,GAAGN,GAAG,CAACO,CADhB;AAEA,OAAKC,gBAAL,CAAsBH,CAAtB,GAA0B,KAAKI,YAAL,CAAkBJ,CAA5C;AACA,OAAKG,gBAAL,CAAsBD,CAAtB,GAA0B,KAAKE,YAAL,CAAkBF,CAA5C;AACA,OAAKE,YAAL,CAAkBJ,CAAlB,GAAsBD,KAAtB;AACA,OAAKK,YAAL,CAAkBF,CAAlB,GAAsBD,KAAtB;;AACA,MAAI,CAACP,KAAK,CAACW,QAAN,CAAeN,KAAf,EAAsBE,KAAtB,CAAL,EAAmC;AAC/B;AACH;;AACDP,EAAAA,KAAK,CAACY,IAAN,CAAW,QAAX,EAAqBd,OAArB,EAA8B,KAAKY,YAAnC;AACAV,EAAAA,KAAK,CAACY,IAAN,CAAW,SAAX,EAAsBd,OAAtB,EAA+B,KAAKW,gBAApC;;AAEA,MAAII,kBAAkB,GAAG,UAAUC,UAAV,EAAsB;AAC3Cd,IAAAA,KAAK,CAACY,IAAN,CAAW,cAAX,EAA2Bd,OAA3B,EAAoCgB,UAApC;AACAd,IAAAA,KAAK,CAACY,IAAN,CAAW,eAAX,EAA4Bd,OAA5B,EAAqCgB,UAArC;AACH,GAHD;;AAIA,MAAIC,kBAAkB,GAAG,UAAUD,UAAV,EAAsB;AAC3CA,IAAAA,UAAU,CAACF,IAAX,CAAgB,iBAAhB,EAAmCd,OAAnC;AACAgB,IAAAA,UAAU,CAACF,IAAX,CAAgB,kBAAhB,EAAoCd,OAApC;AACH,GAHD;;AAKAF,EAAAA,cAAc,CACViB,kBADU,EAEVE,kBAFU,EAGVf,KAHU,EAGHK,KAHG,EAGIE,KAHJ,EAIVT,OAJU,CAAd;;AAOA,MAAI,KAAKA,OAAL,KAAiBA,OAArB,EAA8B;AAAE;AAC5B,SAAKA,OAAL,GAAe,IAAf;AACH;AACJ,CAvCD;;AAyCA,eAAeD,WAAf","sourcesContent":["import EmitChessEvent from './EmitChessEvent.js';\r\n\r\nvar OnPointerUp = function (pointer) {\r\n    if (!this.enable) {\r\n        return;\r\n    }\r\n\r\n    var board = this.board;\r\n    // Get touched tileX, tileY\r\n    var out = board.worldXYToTileXY(pointer.worldX, pointer.worldY, true);\r\n    var tileX = out.x,\r\n        tileY = out.y;\r\n    this.prevTilePosition.x = this.tilePosition.x;\r\n    this.prevTilePosition.y = this.tilePosition.y;\r\n    this.tilePosition.x = tileX;\r\n    this.tilePosition.y = tileY;\r\n    if (!board.contains(tileX, tileY)) {\r\n        return;\r\n    }\r\n    board.emit('tileup', pointer, this.tilePosition);\r\n    board.emit('tileout', pointer, this.prevTilePosition);\r\n\r\n    var boardEventCallback = function (gameObject) {\r\n        board.emit('gameobjectup', pointer, gameObject);\r\n        board.emit('gameobjectout', pointer, gameObject);\r\n    }\r\n    var chessEventCallback = function (gameObject) {\r\n        gameObject.emit('board.pointerup', pointer);\r\n        gameObject.emit('board.pointerout', pointer);\r\n    }\r\n\r\n    EmitChessEvent(\r\n        boardEventCallback,\r\n        chessEventCallback,\r\n        board, tileX, tileY,\r\n        pointer\r\n    );\r\n\r\n    if (this.pointer === pointer) { // Release touch pointer\r\n        this.pointer = null;\r\n    }\r\n};\r\n\r\nexport default OnPointerUp;"]},"metadata":{},"sourceType":"module"}