{"ast":null,"code":"import GetValue from '../../utils/object/GetValue.js';\n\nclass Bank {\n  constructor(config) {\n    this.nextId = GetValue(config, 'start', 1); // start index\n\n    this.uidKey = GetValue(config, 'uidKey', '$uid');\n    this.autoRemove = GetValue(config, 'remove', true);\n    this.refs = {};\n    this.count = 0;\n  }\n\n  add(gameObject, uid) {\n    var refs = this.refs;\n    var uidKey = this.uidKey;\n\n    if (uidKey) {\n      var uid = gameObject[uidKey];\n\n      if (uid != null) {\n        return this;\n      }\n    }\n\n    if (uid == null) {\n      do {\n        uid = this.nextId;\n        this.nextId++;\n      } while (refs.hasOwnProperty(uid));\n    }\n\n    if (!refs.hasOwnProperty(uid)) {\n      refs[uid] = gameObject;\n      this.count++;\n\n      if (uidKey) {\n        gameObject[uidKey] = uid;\n      }\n\n      if (this.autoRemove && gameObject.on) {\n        gameObject.on('destroy', function () {\n          this.remove(uid);\n        }, this);\n      }\n    } else {\n      uid = null;\n    }\n\n    if (uidKey) {\n      return this;\n    } else {\n      return uid;\n    }\n  }\n\n  addMultiple(objects) {\n    for (var i = 0, cnt = objects.length; i < cnt; i++) {\n      this.add(objects[i]);\n    }\n\n    return this;\n  }\n\n  get(uid) {\n    return this.refs[uid];\n  }\n\n  has(uid) {\n    return this.refs.hasOwnProperty(uid);\n  }\n\n  remove(uid) {\n    var refs = this.refs;\n\n    if (refs.hasOwnProperty(uid)) {\n      if (this.uidKey) {\n        var gameObject = refs[uid];\n        gameObject[this.uidKey] = undefined;\n      }\n\n      delete refs[uid];\n      this.count--;\n    }\n\n    return this;\n  }\n\n  forEach(callback, scope) {\n    var refs = this.refs,\n        gameObject;\n\n    for (var uid in refs) {\n      gameObject = refs[uid];\n\n      if (scope) {\n        callback.call(scope, gameObject, uid);\n      } else {\n        callback(gameObject, uid);\n      }\n    }\n  }\n\n  clear() {\n    this.forEach(function (gameObject) {\n      this.remove(gameObject);\n    }, this);\n  }\n\n}\n\nexport default Bank;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/data/bank/Bank.js"],"names":["GetValue","Bank","constructor","config","nextId","uidKey","autoRemove","refs","count","add","gameObject","uid","hasOwnProperty","on","remove","addMultiple","objects","i","cnt","length","get","has","undefined","forEach","callback","scope","call","clear"],"mappings":"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","sourcesContent":["import GetValue from '../../utils/object/GetValue.js';\r\n\r\nclass Bank {\r\n    constructor(config) {\r\n        this.nextId = GetValue(config, 'start', 1); // start index\r\n        this.uidKey = GetValue(config, 'uidKey', '$uid');\r\n        this.autoRemove = GetValue(config, 'remove', true);\r\n        this.refs = {};\r\n        this.count = 0;\r\n    }\r\n\r\n    add(gameObject, uid) {\r\n        var refs = this.refs;\r\n        var uidKey = this.uidKey;\r\n        if (uidKey) {\r\n            var uid = gameObject[uidKey];\r\n            if (uid != null) {\r\n                return this;\r\n            }\r\n        }\r\n\r\n        if (uid == null) {\r\n            do {\r\n                uid = this.nextId;\r\n                this.nextId++;\r\n            } while (refs.hasOwnProperty(uid))\r\n        }\r\n\r\n        if (!refs.hasOwnProperty(uid)) {\r\n            refs[uid] = gameObject;\r\n            this.count++;\r\n            if (uidKey) {\r\n                gameObject[uidKey] = uid;\r\n            }\r\n            if (this.autoRemove && gameObject.on) {\r\n                gameObject.on('destroy', function () {\r\n                    this.remove(uid);\r\n                }, this)\r\n            }\r\n        } else {\r\n            uid = null;\r\n        }\r\n\r\n        if (uidKey) {\r\n            return this;\r\n        } else {\r\n            return uid;\r\n        }\r\n    }\r\n\r\n    addMultiple(objects) {\r\n        for (var i = 0, cnt = objects.length; i < cnt; i++) {\r\n            this.add(objects[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get(uid) {\r\n        return this.refs[uid];\r\n    }\r\n\r\n    has(uid) {\r\n        return this.refs.hasOwnProperty(uid);\r\n    }\r\n\r\n    remove(uid) {\r\n        var refs = this.refs;\r\n        if (refs.hasOwnProperty(uid)) {\r\n            if (this.uidKey) {\r\n                var gameObject = refs[uid];\r\n                gameObject[this.uidKey] = undefined;\r\n            }\r\n            delete refs[uid];\r\n            this.count--;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    forEach(callback, scope) {\r\n        var refs = this.refs,\r\n            gameObject;\r\n        for (var uid in refs) {\r\n            gameObject = refs[uid];\r\n            if (scope) {\r\n                callback.call(scope, gameObject, uid);\r\n            } else {\r\n                callback(gameObject, uid);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.forEach(function (gameObject) {\r\n            this.remove(gameObject);\r\n        }, this);\r\n    }\r\n}\r\n\r\nexport default Bank;"]},"metadata":{},"sourceType":"module"}