{"ast":null,"code":"import RadToDeg from '../../../utils/math/RadToDeg.js';\nimport ShortestBetween from '../../../utils/math/angle/ShortestBetween.js';\n\nvar AngleSnapToDirection = function (tileXY, angle) {\n  angle = RadToDeg(angle); // -180~180\n\n  var directions = this.grid.allDirections;\n  var neighborAngle, deltaAngle;\n  var minDeltaAngle = Infinity,\n      direction = undefined;\n\n  for (var i = 0, cnt = directions.length; i < cnt; i++) {\n    neighborAngle = RadToDeg(this.angleToward(tileXY, directions[i])); // -PI~PI -> -180~180\n\n    deltaAngle = Math.abs(ShortestBetween(angle, neighborAngle));\n\n    if (deltaAngle < minDeltaAngle) {\n      minDeltaAngle = deltaAngle;\n      direction = i;\n    }\n  }\n\n  return direction;\n};\n\nexport default AngleSnapToDirection;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/board/board/worldposition/AngleSnapToDirection.js"],"names":["RadToDeg","ShortestBetween","AngleSnapToDirection","tileXY","angle","directions","grid","allDirections","neighborAngle","deltaAngle","minDeltaAngle","Infinity","direction","undefined","i","cnt","length","angleToward","Math","abs"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,iCAArB;AACA,OAAOC,eAAP,MAA4B,8CAA5B;;AAEA,IAAIC,oBAAoB,GAAG,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;AAChDA,EAAAA,KAAK,GAAGJ,QAAQ,CAACI,KAAD,CAAhB,CADgD,CACvB;;AACzB,MAAIC,UAAU,GAAG,KAAKC,IAAL,CAAUC,aAA3B;AACA,MAAIC,aAAJ,EAAmBC,UAAnB;AACA,MAAIC,aAAa,GAAGC,QAApB;AAAA,MACIC,SAAS,GAAGC,SADhB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGV,UAAU,CAACW,MAAjC,EAAyCF,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnDN,IAAAA,aAAa,GAAGR,QAAQ,CAAC,KAAKiB,WAAL,CAAiBd,MAAjB,EAAyBE,UAAU,CAACS,CAAD,CAAnC,CAAD,CAAxB,CADmD,CACgB;;AACnEL,IAAAA,UAAU,GAAGS,IAAI,CAACC,GAAL,CAASlB,eAAe,CAACG,KAAD,EAAQI,aAAR,CAAxB,CAAb;;AACA,QAAIC,UAAU,GAAGC,aAAjB,EAAgC;AAC5BA,MAAAA,aAAa,GAAGD,UAAhB;AACAG,MAAAA,SAAS,GAAGE,CAAZ;AACH;AACJ;;AAED,SAAOF,SAAP;AACH,CAhBD;;AAkBA,eAAeV,oBAAf","sourcesContent":["import RadToDeg from '../../../utils/math/RadToDeg.js';\r\nimport ShortestBetween from '../../../utils/math/angle/ShortestBetween.js';\r\n\r\nvar AngleSnapToDirection = function (tileXY, angle) {\r\n    angle = RadToDeg(angle); // -180~180\r\n    var directions = this.grid.allDirections;\r\n    var neighborAngle, deltaAngle;\r\n    var minDeltaAngle = Infinity,\r\n        direction = undefined;\r\n    for (var i = 0, cnt = directions.length; i < cnt; i++) {\r\n        neighborAngle = RadToDeg(this.angleToward(tileXY, directions[i])); // -PI~PI -> -180~180\r\n        deltaAngle = Math.abs(ShortestBetween(angle, neighborAngle));\r\n        if (deltaAngle < minDeltaAngle) {\r\n            minDeltaAngle = deltaAngle;\r\n            direction = i;\r\n        }\r\n    }\r\n\r\n    return direction;\r\n};\r\n\r\nexport default AngleSnapToDirection;"]},"metadata":{},"sourceType":"module"}