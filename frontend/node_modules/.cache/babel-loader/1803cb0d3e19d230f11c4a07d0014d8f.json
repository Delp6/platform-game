{"ast":null,"code":"import EmitChessEvent from './EmitChessEvent.js';\n\nvar OnPointerDown = function (pointer) {\n  if (!this.enable) {\n    return;\n  }\n\n  if (!pointer.isDown) {\n    return;\n  }\n\n  var board = this.board;\n\n  if (this.pointer === null) {\n    // Catch new touch pointer\n    this.pointer = pointer;\n  } // Get touched tileX, tileY\n\n\n  var out = board.worldXYToTileXY(pointer.worldX, pointer.worldY, true);\n  var tileX = out.x,\n      tileY = out.y;\n  this.prevTilePosition.x = this.tilePosition.x;\n  this.prevTilePosition.y = this.tilePosition.y;\n  this.tilePosition.x = tileX;\n  this.tilePosition.y = tileY;\n\n  if (!board.contains(tileX, tileY)) {\n    return;\n  }\n\n  board.emit('tiledown', pointer, this.tilePosition);\n  board.emit('tileover', pointer, this.tilePosition);\n\n  var boardEventCallback = function (gameObject) {\n    board.emit('gameobjectdown', pointer, gameObject);\n    board.emit('gameobjectover', pointer, gameObject);\n  };\n\n  var chessEventCallback = function (gameObject) {\n    gameObject.emit('board.pointerdown', pointer);\n    gameObject.emit('board.pointerover', pointer);\n  };\n\n  EmitChessEvent(boardEventCallback, chessEventCallback, board, tileX, tileY, pointer);\n};\n\nexport default OnPointerDown;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/board/board/input/OnPointerDown.js"],"names":["EmitChessEvent","OnPointerDown","pointer","enable","isDown","board","out","worldXYToTileXY","worldX","worldY","tileX","x","tileY","y","prevTilePosition","tilePosition","contains","emit","boardEventCallback","gameObject","chessEventCallback"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,qBAA3B;;AAEA,IAAIC,aAAa,GAAG,UAAUC,OAAV,EAAmB;AACnC,MAAI,CAAC,KAAKC,MAAV,EAAkB;AACd;AACH;;AACD,MAAI,CAACD,OAAO,CAACE,MAAb,EAAqB;AACjB;AACH;;AAED,MAAIC,KAAK,GAAG,KAAKA,KAAjB;;AACA,MAAI,KAAKH,OAAL,KAAiB,IAArB,EAA2B;AAAE;AACzB,SAAKA,OAAL,GAAeA,OAAf;AACH,GAXkC,CAYnC;;;AACA,MAAII,GAAG,GAAGD,KAAK,CAACE,eAAN,CAAsBL,OAAO,CAACM,MAA9B,EAAsCN,OAAO,CAACO,MAA9C,EAAsD,IAAtD,CAAV;AACA,MAAIC,KAAK,GAAGJ,GAAG,CAACK,CAAhB;AAAA,MACIC,KAAK,GAAGN,GAAG,CAACO,CADhB;AAEA,OAAKC,gBAAL,CAAsBH,CAAtB,GAA0B,KAAKI,YAAL,CAAkBJ,CAA5C;AACA,OAAKG,gBAAL,CAAsBD,CAAtB,GAA0B,KAAKE,YAAL,CAAkBF,CAA5C;AACA,OAAKE,YAAL,CAAkBJ,CAAlB,GAAsBD,KAAtB;AACA,OAAKK,YAAL,CAAkBF,CAAlB,GAAsBD,KAAtB;;AACA,MAAI,CAACP,KAAK,CAACW,QAAN,CAAeN,KAAf,EAAsBE,KAAtB,CAAL,EAAmC;AAC/B;AACH;;AACDP,EAAAA,KAAK,CAACY,IAAN,CAAW,UAAX,EAAuBf,OAAvB,EAAgC,KAAKa,YAArC;AACAV,EAAAA,KAAK,CAACY,IAAN,CAAW,UAAX,EAAuBf,OAAvB,EAAgC,KAAKa,YAArC;;AAEA,MAAIG,kBAAkB,GAAG,UAAUC,UAAV,EAAsB;AAC3Cd,IAAAA,KAAK,CAACY,IAAN,CAAW,gBAAX,EAA6Bf,OAA7B,EAAsCiB,UAAtC;AACAd,IAAAA,KAAK,CAACY,IAAN,CAAW,gBAAX,EAA6Bf,OAA7B,EAAsCiB,UAAtC;AACH,GAHD;;AAIA,MAAIC,kBAAkB,GAAG,UAAUD,UAAV,EAAsB;AAC3CA,IAAAA,UAAU,CAACF,IAAX,CAAgB,mBAAhB,EAAqCf,OAArC;AACAiB,IAAAA,UAAU,CAACF,IAAX,CAAgB,mBAAhB,EAAqCf,OAArC;AACH,GAHD;;AAKAF,EAAAA,cAAc,CACVkB,kBADU,EAEVE,kBAFU,EAGVf,KAHU,EAGHK,KAHG,EAGIE,KAHJ,EAIVV,OAJU,CAAd;AAMH,CAzCD;;AA2CA,eAAeD,aAAf","sourcesContent":["import EmitChessEvent from './EmitChessEvent.js';\r\n\r\nvar OnPointerDown = function (pointer) {\r\n    if (!this.enable) {\r\n        return;\r\n    }\r\n    if (!pointer.isDown) {\r\n        return;\r\n    }\r\n\r\n    var board = this.board;\r\n    if (this.pointer === null) { // Catch new touch pointer\r\n        this.pointer = pointer;\r\n    }\r\n    // Get touched tileX, tileY\r\n    var out = board.worldXYToTileXY(pointer.worldX, pointer.worldY, true);\r\n    var tileX = out.x,\r\n        tileY = out.y;\r\n    this.prevTilePosition.x = this.tilePosition.x;\r\n    this.prevTilePosition.y = this.tilePosition.y;\r\n    this.tilePosition.x = tileX;\r\n    this.tilePosition.y = tileY;\r\n    if (!board.contains(tileX, tileY)) {\r\n        return;\r\n    }\r\n    board.emit('tiledown', pointer, this.tilePosition);\r\n    board.emit('tileover', pointer, this.tilePosition);\r\n\r\n    var boardEventCallback = function (gameObject) {\r\n        board.emit('gameobjectdown', pointer, gameObject);\r\n        board.emit('gameobjectover', pointer, gameObject);\r\n    }\r\n    var chessEventCallback = function (gameObject) {\r\n        gameObject.emit('board.pointerdown', pointer);\r\n        gameObject.emit('board.pointerover', pointer);\r\n    }\r\n\r\n    EmitChessEvent(\r\n        boardEventCallback,\r\n        chessEventCallback,\r\n        board, tileX, tileY,\r\n        pointer\r\n    );\r\n};\r\n\r\nexport default OnPointerDown;"]},"metadata":{},"sourceType":"module"}