{"ast":null,"code":"import CONST from './const.js';\nimport { qr2cube, roundcube, cube2cr } from './CubeTransfer.js';\nconst ODD_R = CONST.ODD_R;\nconst EVEN_R = CONST.EVEN_R;\nconst ODD_Q = CONST.ODD_Q;\nconst EVEN_Q = CONST.EVEN_Q;\nconst C4DIV3 = 4 / 3;\nconst C2DIV3 = 2 / 3;\n\nvar GetTileXY = function (worldX, worldY, out) {\n  if (out === undefined) {\n    out = {};\n  } else if (out === true) {\n    out = globTileXY;\n  }\n\n  worldX -= this.x;\n  worldY -= this.y;\n  var q, r;\n\n  switch (this.mode) {\n    case ODD_R:\n    case EVEN_R:\n      r = worldY * C4DIV3 / this.height;\n      q = worldX / this.width - C2DIV3 * (worldY / this.height);\n      break;\n\n    case ODD_Q:\n    case EVEN_Q:\n      r = worldY / this.height - C2DIV3 * (worldX / this.width);\n      q = worldX * C4DIV3 / this.width;\n      break;\n  }\n\n  var cube = qr2cube(q, r, globCube);\n  roundcube(cube);\n  cube2cr(this.mode, cube.x, cube.y, cube.z, out);\n  return out;\n};\n\nvar globCube = {};\nvar globTileXY = {};\nexport default GetTileXY;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/utils/grid/hexagon/GetTileXY.js"],"names":["CONST","qr2cube","roundcube","cube2cr","ODD_R","EVEN_R","ODD_Q","EVEN_Q","C4DIV3","C2DIV3","GetTileXY","worldX","worldY","out","undefined","globTileXY","x","y","q","r","mode","height","width","cube","globCube","z"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACA,SACIC,OADJ,EAEIC,SAFJ,EAGIC,OAHJ,QAIO,mBAJP;AAMA,MAAMC,KAAK,GAAGJ,KAAK,CAACI,KAApB;AACA,MAAMC,MAAM,GAAGL,KAAK,CAACK,MAArB;AACA,MAAMC,KAAK,GAAGN,KAAK,CAACM,KAApB;AACA,MAAMC,MAAM,GAAGP,KAAK,CAACO,MAArB;AAEA,MAAMC,MAAM,GAAI,IAAI,CAApB;AACA,MAAMC,MAAM,GAAI,IAAI,CAApB;;AAEA,IAAIC,SAAS,GAAG,UAAUC,MAAV,EAAkBC,MAAlB,EAA0BC,GAA1B,EAA+B;AAC3C,MAAIA,GAAG,KAAKC,SAAZ,EAAuB;AACnBD,IAAAA,GAAG,GAAG,EAAN;AACH,GAFD,MAEO,IAAIA,GAAG,KAAK,IAAZ,EAAkB;AACrBA,IAAAA,GAAG,GAAGE,UAAN;AACH;;AAEDJ,EAAAA,MAAM,IAAI,KAAKK,CAAf;AACAJ,EAAAA,MAAM,IAAI,KAAKK,CAAf;AACA,MAAIC,CAAJ,EAAOC,CAAP;;AACA,UAAQ,KAAKC,IAAb;AACI,SAAKhB,KAAL;AACA,SAAKC,MAAL;AACIc,MAAAA,CAAC,GAAIP,MAAM,GAAGJ,MAAV,GAAoB,KAAKa,MAA7B;AACAH,MAAAA,CAAC,GAAIP,MAAM,GAAG,KAAKW,KAAf,GAAwBb,MAAM,IAAIG,MAAM,GAAG,KAAKS,MAAlB,CAAlC;AACA;;AAEJ,SAAKf,KAAL;AACA,SAAKC,MAAL;AACIY,MAAAA,CAAC,GAAIP,MAAM,GAAG,KAAKS,MAAf,GAAyBZ,MAAM,IAAIE,MAAM,GAAG,KAAKW,KAAlB,CAAnC;AACAJ,MAAAA,CAAC,GAAIP,MAAM,GAAGH,MAAV,GAAoB,KAAKc,KAA7B;AACA;AAXR;;AAcA,MAAIC,IAAI,GAAGtB,OAAO,CAACiB,CAAD,EAAIC,CAAJ,EAAOK,QAAP,CAAlB;AACAtB,EAAAA,SAAS,CAACqB,IAAD,CAAT;AACApB,EAAAA,OAAO,CAAC,KAAKiB,IAAN,EAAYG,IAAI,CAACP,CAAjB,EAAoBO,IAAI,CAACN,CAAzB,EAA4BM,IAAI,CAACE,CAAjC,EAAoCZ,GAApC,CAAP;AACA,SAAOA,GAAP;AACH,CA5BD;;AA8BA,IAAIW,QAAQ,GAAG,EAAf;AACA,IAAIT,UAAU,GAAG,EAAjB;AAEA,eAAeL,SAAf","sourcesContent":["import CONST from './const.js';\r\nimport {\r\n    qr2cube,\r\n    roundcube,\r\n    cube2cr,\r\n} from './CubeTransfer.js';\r\n\r\nconst ODD_R = CONST.ODD_R;\r\nconst EVEN_R = CONST.EVEN_R;\r\nconst ODD_Q = CONST.ODD_Q;\r\nconst EVEN_Q = CONST.EVEN_Q;\r\n\r\nconst C4DIV3 = (4 / 3);\r\nconst C2DIV3 = (2 / 3);\r\n\r\nvar GetTileXY = function (worldX, worldY, out) {\r\n    if (out === undefined) {\r\n        out = {};\r\n    } else if (out === true) {\r\n        out = globTileXY;\r\n    }\r\n\r\n    worldX -= this.x;\r\n    worldY -= this.y;\r\n    var q, r;\r\n    switch (this.mode) {\r\n        case ODD_R:\r\n        case EVEN_R:\r\n            r = (worldY * C4DIV3) / this.height;\r\n            q = (worldX / this.width) - C2DIV3 * (worldY / this.height);\r\n            break;\r\n\r\n        case ODD_Q:\r\n        case EVEN_Q:\r\n            r = (worldY / this.height) - C2DIV3 * (worldX / this.width);\r\n            q = (worldX * C4DIV3) / this.width;\r\n            break;\r\n    }\r\n\r\n    var cube = qr2cube(q, r, globCube);\r\n    roundcube(cube);\r\n    cube2cr(this.mode, cube.x, cube.y, cube.z, out);\r\n    return out;\r\n}\r\n\r\nvar globCube = {};\r\nvar globTileXY = {};\r\n\r\nexport default GetTileXY;"]},"metadata":{},"sourceType":"module"}