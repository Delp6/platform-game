{"ast":null,"code":"import CONST from './const.js';\nimport AreTileXYEqual from '../utils/AreTileXYEqual.js';\nconst BLOCKER = CONST.BLOCKER;\nconst INFINITY = CONST.INFINITY;\n\nvar IsPathVisible = function (tileXYArray, visiblePoints) {\n  if (this.preTest(tileXYArray, visiblePoints) === false) {\n    return false;\n  }\n\n  if (this.costCallback === undefined) {\n    return true;\n  }\n\n  var myTileXYZ = this.chessData.tileXYZ;\n  var tileXY,\n      cost,\n      behindBlocker = false;\n\n  for (var i = 1, cnt = tileXYArray.length; i < cnt; i++) {\n    tileXY = tileXYArray[i];\n\n    if (AreTileXYEqual(myTileXYZ, tileXY)) {\n      continue;\n    }\n\n    if (behindBlocker) {\n      return false;\n    }\n\n    cost = this.getCost(tileXY, tileXYArray);\n\n    if (cost === BLOCKER) {\n      behindBlocker = true;\n      continue;\n    }\n\n    if (visiblePoints !== INFINITY) {\n      visiblePoints -= cost;\n\n      if (visiblePoints < 0) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\nexport default IsPathVisible;","map":{"version":3,"sources":["C:/Users/kmode/Documents/ProjektyFullStack/war-of-champions/frontend/node_modules/phaser3-rex-plugins/plugins/board/fieldofview/IsPathVisible.js"],"names":["CONST","AreTileXYEqual","BLOCKER","INFINITY","IsPathVisible","tileXYArray","visiblePoints","preTest","costCallback","undefined","myTileXYZ","chessData","tileXYZ","tileXY","cost","behindBlocker","i","cnt","length","getCost"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AAEA,MAAMC,OAAO,GAAGF,KAAK,CAACE,OAAtB;AACA,MAAMC,QAAQ,GAAGH,KAAK,CAACG,QAAvB;;AAEA,IAAIC,aAAa,GAAG,UAAUC,WAAV,EAAuBC,aAAvB,EAAsC;AACtD,MAAI,KAAKC,OAAL,CAAaF,WAAb,EAA0BC,aAA1B,MAA6C,KAAjD,EAAwD;AACpD,WAAO,KAAP;AACH;;AAED,MAAI,KAAKE,YAAL,KAAsBC,SAA1B,EAAqC;AACjC,WAAO,IAAP;AACH;;AACD,MAAIC,SAAS,GAAG,KAAKC,SAAL,CAAeC,OAA/B;AACA,MAAIC,MAAJ;AAAA,MAAYC,IAAZ;AAAA,MAAkBC,aAAa,GAAG,KAAlC;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGZ,WAAW,CAACa,MAAlC,EAA0CF,CAAC,GAAGC,GAA9C,EAAmDD,CAAC,EAApD,EAAwD;AACpDH,IAAAA,MAAM,GAAGR,WAAW,CAACW,CAAD,CAApB;;AACA,QAAIf,cAAc,CAACS,SAAD,EAAYG,MAAZ,CAAlB,EAAuC;AACnC;AACH;;AAED,QAAIE,aAAJ,EAAmB;AACf,aAAO,KAAP;AACH;;AAEDD,IAAAA,IAAI,GAAG,KAAKK,OAAL,CAAaN,MAAb,EAAqBR,WAArB,CAAP;;AACA,QAAIS,IAAI,KAAKZ,OAAb,EAAsB;AAClBa,MAAAA,aAAa,GAAG,IAAhB;AACA;AACH;;AAED,QAAIT,aAAa,KAAKH,QAAtB,EAAgC;AAC5BG,MAAAA,aAAa,IAAIQ,IAAjB;;AACA,UAAIR,aAAa,GAAG,CAApB,EAAuB;AACnB,eAAO,KAAP;AACH;AACJ;AACJ;;AACD,SAAO,IAAP;AACH,CAlCD;;AAmCA,eAAeF,aAAf","sourcesContent":["import CONST from './const.js';\r\nimport AreTileXYEqual from '../utils/AreTileXYEqual.js';\r\n\r\nconst BLOCKER = CONST.BLOCKER;\r\nconst INFINITY = CONST.INFINITY;\r\n\r\nvar IsPathVisible = function (tileXYArray, visiblePoints) {\r\n    if (this.preTest(tileXYArray, visiblePoints) === false) {\r\n        return false;\r\n    }\r\n\r\n    if (this.costCallback === undefined) {\r\n        return true;\r\n    }\r\n    var myTileXYZ = this.chessData.tileXYZ;\r\n    var tileXY, cost, behindBlocker = false;\r\n    for (var i = 1, cnt = tileXYArray.length; i < cnt; i++) {\r\n        tileXY = tileXYArray[i];\r\n        if (AreTileXYEqual(myTileXYZ, tileXY)) {\r\n            continue;\r\n        }\r\n\r\n        if (behindBlocker) {\r\n            return false;\r\n        }\r\n\r\n        cost = this.getCost(tileXY, tileXYArray);\r\n        if (cost === BLOCKER) {\r\n            behindBlocker = true;\r\n            continue;\r\n        }\r\n\r\n        if (visiblePoints !== INFINITY) {\r\n            visiblePoints -= cost;\r\n            if (visiblePoints < 0) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexport default IsPathVisible;"]},"metadata":{},"sourceType":"module"}